<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Castle Battle: Castle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Castle Battle
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCastle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Castle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classCastle.html" title="The Castle handles all things related to the Castles Building, treasure, physics and collisions...">Castle</a> handles all things related to the Castles Building, treasure, physics and collisions.  
 <a href="classCastle.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="castle_8h_source.html">castle.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5abd32b29ae149ff609125f4d8db83f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a5abd32b29ae149ff609125f4d8db83f6">Castle</a> (scene::ISceneManager *<a class="el" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a>, <a class="el" href="classPhysics.html">Physics</a> *<a class="el" href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">physics</a>, IrrlichtDevice *<a class="el" href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">device</a>, video::IVideoDriver *<a class="el" href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">driver</a>, core::vector3df center)</td></tr>
<tr class="memdesc:a5abd32b29ae149ff609125f4d8db83f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a5abd32b29ae149ff609125f4d8db83f6">More...</a><br /></td></tr>
<tr class="separator:a5abd32b29ae149ff609125f4d8db83f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1c449ddd10436b7b959752aded5f7e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a8c1c449ddd10436b7b959752aded5f7e">buildCastle</a> (core::vector3df center)</td></tr>
<tr class="memdesc:a8c1c449ddd10436b7b959752aded5f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the castle.  <a href="#a8c1c449ddd10436b7b959752aded5f7e">More...</a><br /></td></tr>
<tr class="separator:a8c1c449ddd10436b7b959752aded5f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab371683c3d7d9d32e52b8243c4229b3c"><td class="memItemLeft" align="right" valign="top">core::vector3df&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">getSideSize</a> (char side)</td></tr>
<tr class="memdesc:ab371683c3d7d9d32e52b8243c4229b3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size from a side.  <a href="#ab371683c3d7d9d32e52b8243c4229b3c">More...</a><br /></td></tr>
<tr class="separator:ab371683c3d7d9d32e52b8243c4229b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8955077159e6c0c01cefc73415d667c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a8955077159e6c0c01cefc73415d667c1">setTreasure</a> ()</td></tr>
<tr class="memdesc:a8955077159e6c0c01cefc73415d667c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set treasure in the castle.  <a href="#a8955077159e6c0c01cefc73415d667c1">More...</a><br /></td></tr>
<tr class="separator:a8955077159e6c0c01cefc73415d667c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b97e235ecc71fb307036a5a157def17"><td class="memItemLeft" align="right" valign="top">core::vector3df&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a0b97e235ecc71fb307036a5a157def17">calculateAbsoluteCenter</a> ()</td></tr>
<tr class="memdesc:a0b97e235ecc71fb307036a5a157def17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get center of the castle in Irrlicht world coordinates.  <a href="#a0b97e235ecc71fb307036a5a157def17">More...</a><br /></td></tr>
<tr class="separator:a0b97e235ecc71fb307036a5a157def17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966356bb0f9505b1a4af680d037acf1f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a966356bb0f9505b1a4af680d037acf1f">checkTarget</a> ()</td></tr>
<tr class="memdesc:a966356bb0f9505b1a4af680d037acf1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if target is moved TARGET_OFFSET is the max offset of the target from initial position.  <a href="#a966356bb0f9505b1a4af680d037acf1f">More...</a><br /></td></tr>
<tr class="separator:a966356bb0f9505b1a4af680d037acf1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae739b69849cc1a4b6ddeeab921daf8c9"><td class="memItemLeft" align="right" valign="top">video::SColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">COLOR_LIGHT</a></td></tr>
<tr class="separator:ae739b69849cc1a4b6ddeeab921daf8c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09afa47453c0a774d52dbe521c45f683"><td class="memItemLeft" align="right" valign="top">video::SColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">COLOR_DARK</a></td></tr>
<tr class="separator:a09afa47453c0a774d52dbe521c45f683"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae500edb490227cc3b1a18d959766d506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#ae500edb490227cc3b1a18d959766d506">createBlock</a> (core::vector3df <a class="el" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>, core::vector3df scale, core::vector3df rotation, char side, video::SColor color=<a class="el" href="bullethelper_8h.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524">randomColor</a>())</td></tr>
<tr class="memdesc:ae500edb490227cc3b1a18d959766d506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the block of the castle at a specified position, rotation and scaling.  <a href="#ae500edb490227cc3b1a18d959766d506">More...</a><br /></td></tr>
<tr class="separator:ae500edb490227cc3b1a18d959766d506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88efe76ecc379f72599fab9a7316ee49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a88efe76ecc379f72599fab9a7316ee49">addToPhysicsWorld</a> ()</td></tr>
<tr class="separator:a88efe76ecc379f72599fab9a7316ee49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acf3f259abf1a096c3713dc7f77fef1ba"><td class="memItemLeft" align="right" valign="top">scene::ISceneManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a></td></tr>
<tr class="separator:acf3f259abf1a096c3713dc7f77fef1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30f567ae07b26ad4830af75771dfe40c"><td class="memItemLeft" align="right" valign="top">video::IVideoDriver *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">driver</a></td></tr>
<tr class="separator:a30f567ae07b26ad4830af75771dfe40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae594a68a78797d6b3398a0b529013a"><td class="memItemLeft" align="right" valign="top">core::vector3df&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a></td></tr>
<tr class="separator:adae594a68a78797d6b3398a0b529013a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab838879c446827c5a18fc52b209e4a0a"><td class="memItemLeft" align="right" valign="top">scene::IMeshSceneNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a></td></tr>
<tr class="memdesc:ab838879c446827c5a18fc52b209e4a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last node used.  <a href="#ab838879c446827c5a18fc52b209e4a0a">More...</a><br /></td></tr>
<tr class="separator:ab838879c446827c5a18fc52b209e4a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53529d281aa26f2b268745d43f15ec0"><td class="memItemLeft" align="right" valign="top">IrrlichtDevice *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">device</a></td></tr>
<tr class="separator:ae53529d281aa26f2b268745d43f15ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><td class="memItemLeft" align="right" valign="top">std::multimap&lt; char, scene::IMeshSceneNode * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a></td></tr>
<tr class="memdesc:a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associative array for blocks.  <a href="#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">More...</a><br /></td></tr>
<tr class="separator:a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048a1563fe47ac72d13fe996e3ad45a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTarget.html">Target</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a048a1563fe47ac72d13fe996e3ad45a3">target</a></td></tr>
<tr class="memdesc:a048a1563fe47ac72d13fe996e3ad45a3"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTarget.html" title="Target represent the treasure of the castle. ">Target</a> node.  <a href="#a048a1563fe47ac72d13fe996e3ad45a3">More...</a><br /></td></tr>
<tr class="separator:a048a1563fe47ac72d13fe996e3ad45a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6211e058ea5dc4612bb845bd8d5c4995"><td class="memItemLeft" align="right" valign="top">core::vector3df&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a6211e058ea5dc4612bb845bd8d5c4995">initialTargetPos</a></td></tr>
<tr class="memdesc:a6211e058ea5dc4612bb845bd8d5c4995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial position of the first block.  <a href="#a6211e058ea5dc4612bb845bd8d5c4995">More...</a><br /></td></tr>
<tr class="separator:a6211e058ea5dc4612bb845bd8d5c4995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bcac0701795ac6a27026d09d1c20263"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPhysics.html">Physics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">physics</a></td></tr>
<tr class="separator:a9bcac0701795ac6a27026d09d1c20263"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">The <a class="el" href="classCastle.html" title="The Castle handles all things related to the Castles Building, treasure, physics and collisions...">Castle</a> handles all things related to the Castles Building, treasure, physics and collisions. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5abd32b29ae149ff609125f4d8db83f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5abd32b29ae149ff609125f4d8db83f6">&#9670;&nbsp;</a></span>Castle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Castle::Castle </td>
          <td>(</td>
          <td class="paramtype">scene::ISceneManager *&#160;</td>
          <td class="paramname"><em>smgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPhysics.html">Physics</a> *&#160;</td>
          <td class="paramname"><em>physics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IrrlichtDevice *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">video::IVideoDriver *&#160;</td>
          <td class="paramname"><em>driver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">core::vector3df&#160;</td>
          <td class="paramname"><em>center</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p class="">Given irrlicht and bullet instances, this will initialize colors and start building The color palette of the castle is based of 2 type of color randomly generated. COLOR_LIGHT which represent light colors COLOR_DARK which represent dark colors. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classCastle.html#ae500edb490227cc3b1a18d959766d506" title="Create the block of the castle at a specified position, rotation and scaling. ">createBlock()</a> </dd>
<dd>
<a class="el" href="classCastle.html#a8c1c449ddd10436b7b959752aded5f7e" title="Build the castle. ">buildCastle()</a> </dd>
<dd>
<a class="el" href="bullethelper_8cpp.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524" title="Get random color. ">randomColor()</a> </dd></dl>
<div class="fragment"><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                                                                                                                                 {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    this-&gt;<a class="code" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a> = <a class="code" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a>;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.clear();</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    this-&gt;<a class="code" href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">driver</a> = <a class="code" href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">driver</a>;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    this-&gt;<a class="code" href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">device</a> = <a class="code" href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">device</a>;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    this-&gt;physics = <a class="code" href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">physics</a>;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    this-&gt;<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a> = center;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    this-&gt;<a class="code" href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">COLOR_DARK</a> = <a class="code" href="bullethelper_8cpp.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524">randomColor</a>();</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    this-&gt;<a class="code" href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">COLOR_LIGHT</a> = <a class="code" href="bullethelper_8cpp.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524">randomColor</a>();</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    this-&gt;<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a> = center;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classCastle.html#a8c1c449ddd10436b7b959752aded5f7e">buildCastle</a>(this-&gt;<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>)){</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        this-&gt;<a class="code" href="classCastle.html#a88efe76ecc379f72599fab9a7316ee49">addToPhysicsWorld</a>();</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        this-&gt;<a class="code" href="classCastle.html#a8955077159e6c0c01cefc73415d667c1">setTreasure</a>();</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    }</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div><div class="ttc" id="classCastle_html_a8c1c449ddd10436b7b959752aded5f7e"><div class="ttname"><a href="classCastle.html#a8c1c449ddd10436b7b959752aded5f7e">Castle::buildCastle</a></div><div class="ttdeci">bool buildCastle(core::vector3df center)</div><div class="ttdoc">Build the castle. </div><div class="ttdef"><b>Definition:</b> castle.cpp:27</div></div>
<div class="ttc" id="bullethelper_8cpp_html_a5bf4cbb9201cdd4f0c0a9cbe1b9c7524"><div class="ttname"><a href="bullethelper_8cpp.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524">randomColor</a></div><div class="ttdeci">video::SColor randomColor()</div><div class="ttdoc">Get random color. </div><div class="ttdef"><b>Definition:</b> bullethelper.cpp:63</div></div>
<div class="ttc" id="classCastle_html_a30f567ae07b26ad4830af75771dfe40c"><div class="ttname"><a href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">Castle::driver</a></div><div class="ttdeci">video::IVideoDriver * driver</div><div class="ttdef"><b>Definition:</b> castle.h:19</div></div>
<div class="ttc" id="classCastle_html_a88efe76ecc379f72599fab9a7316ee49"><div class="ttname"><a href="classCastle.html#a88efe76ecc379f72599fab9a7316ee49">Castle::addToPhysicsWorld</a></div><div class="ttdeci">void addToPhysicsWorld()</div><div class="ttdef"><b>Definition:</b> castle.cpp:136</div></div>
<div class="ttc" id="classCastle_html_a09afa47453c0a774d52dbe521c45f683"><div class="ttname"><a href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">Castle::COLOR_DARK</a></div><div class="ttdeci">video::SColor COLOR_DARK</div><div class="ttdef"><b>Definition:</b> castle.h:47</div></div>
<div class="ttc" id="classCastle_html_ae739b69849cc1a4b6ddeeab921daf8c9"><div class="ttname"><a href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">Castle::COLOR_LIGHT</a></div><div class="ttdeci">video::SColor COLOR_LIGHT</div><div class="ttdef"><b>Definition:</b> castle.h:46</div></div>
<div class="ttc" id="classCastle_html_ae53529d281aa26f2b268745d43f15ec0"><div class="ttname"><a href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">Castle::device</a></div><div class="ttdeci">IrrlichtDevice * device</div><div class="ttdef"><b>Definition:</b> castle.h:23</div></div>
<div class="ttc" id="classCastle_html_a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><div class="ttname"><a href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">Castle::nodes</a></div><div class="ttdeci">std::multimap&lt; char, scene::IMeshSceneNode * &gt; nodes</div><div class="ttdoc">Associative array for blocks. </div><div class="ttdef"><b>Definition:</b> castle.h:26</div></div>
<div class="ttc" id="classCastle_html_a9bcac0701795ac6a27026d09d1c20263"><div class="ttname"><a href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">Castle::physics</a></div><div class="ttdeci">Physics * physics</div><div class="ttdef"><b>Definition:</b> castle.h:31</div></div>
<div class="ttc" id="classCastle_html_acf3f259abf1a096c3713dc7f77fef1ba"><div class="ttname"><a href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">Castle::smgr</a></div><div class="ttdeci">scene::ISceneManager * smgr</div><div class="ttdef"><b>Definition:</b> castle.h:18</div></div>
<div class="ttc" id="classCastle_html_a8955077159e6c0c01cefc73415d667c1"><div class="ttname"><a href="classCastle.html#a8955077159e6c0c01cefc73415d667c1">Castle::setTreasure</a></div><div class="ttdeci">void setTreasure()</div><div class="ttdoc">Set treasure in the castle. </div><div class="ttdef"><b>Definition:</b> castle.cpp:170</div></div>
<div class="ttc" id="classCastle_html_adae594a68a78797d6b3398a0b529013a"><div class="ttname"><a href="classCastle.html#adae594a68a78797d6b3398a0b529013a">Castle::position</a></div><div class="ttdeci">core::vector3df position</div><div class="ttdef"><b>Definition:</b> castle.h:20</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a88efe76ecc379f72599fab9a7316ee49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88efe76ecc379f72599fab9a7316ee49">&#9670;&nbsp;</a></span>addToPhysicsWorld()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Castle::addToPhysicsWorld </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>Useless method </dd></dl>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                              {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a8c1c449ddd10436b7b959752aded5f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1c449ddd10436b7b959752aded5f7e">&#9670;&nbsp;</a></span>buildCastle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Castle::buildCastle </td>
          <td>(</td>
          <td class="paramtype">core::vector3df&#160;</td>
          <td class="paramname"><em>center</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the castle. </p>
<p class="">Given the position, this method will start building the castle from that position. For now it will get data of the castle from xml file in media/Castle </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">center</td><td>vector3df position from where to start building </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true if castle is successfully builded or false if something went wrong </dd></dl>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                                            {</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        irr::io::IXMLReader* xml = this-&gt;<a class="code" href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">device</a>-&gt;getFileSystem()-&gt;createXMLReader(<span class="stringliteral">&quot;media/castle/castle.xml&quot;</span>);  <span class="comment">//create xml reader</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="keywordflow">if</span> (!xml)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keyword">const</span> stringw sideTag(L<span class="stringliteral">&quot;side&quot;</span>); <span class="comment">//we&#39;ll be looking for this tag in the xml</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        core::stringw currentSection; <span class="comment">//keep track of our current section</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keyword">const</span> stringw blockTag(L<span class="stringliteral">&quot;block&quot;</span>); <span class="comment">//constant for blocktag</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        core::stringc <a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>, lastposition;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordtype">float</span> width, height, distance = 0.f;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">// core::vector3d&lt;f32&gt; * edges = new core::vector3d&lt;f32&gt;[8];</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        f32 offsets[4]={0,0,0,0};</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        u32 reading = -1 ;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        core::vector3df pos;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        core::aabbox3d&lt;f32&gt; box;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        core::matrix4 transformer;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        std::multimap&lt;char, scene::IMeshSceneNode*&gt;::iterator first, last;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="comment">//while there is more to read</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="Logger_8h.html#a2b0f1fe80d849c78ec0f9d757a4919eb">log1</a>(<span class="stringliteral">&quot;Reading XML castle file and building castle&quot;</span>);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">while</span> (xml-&gt;read())</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="comment">//check the node type</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            <span class="keywordflow">switch</span> (xml-&gt;getNodeType()){</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                <span class="comment">//we found a new element</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                <span class="keywordflow">case</span> irr::io::EXN_ELEMENT:{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                    <span class="comment">//we currently are in the empty or mygame section and find the side tag so we set our current block</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    <span class="keywordflow">if</span> (currentSection.empty() &amp;&amp; sideTag.equals_ignore_case(xml-&gt;getNodeName()))</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                    {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        currentSection = sideTag;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                        <a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a> = xml-&gt;getAttributeValueSafe(L<span class="stringliteral">&quot;position&quot;</span>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        distance = xml-&gt;getAttributeValueAsFloat(L<span class="stringliteral">&quot;distance&quot;</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                        reading++;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                        <span class="comment">// maybe a switch case is better</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                        <span class="keywordflow">if</span>(!this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.empty() &amp;&amp; position[0]){ <span class="comment">// assert</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        <span class="keywordflow">if</span>(reading == 1) offsets[reading] = <a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>+<a class="code" href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a>(first-&gt;second)[0]/2;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                        <span class="keywordflow">if</span>(reading == 2 &amp;&amp; last != this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.end()) offsets[reading] = <a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>+<a class="code" href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a>(last-&gt;second)[0]/2;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                        <span class="keywordflow">if</span>(reading == 3) offsets[reading] = <a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>+<a class="code" href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a>(first-&gt;second)[0]/2;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (currentSection.equals_ignore_case(sideTag) &amp;&amp; blockTag.equals_ignore_case(xml-&gt;getNodeName())){</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                        <span class="comment">//read in the key</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                         core::vector3df scale = core::vector3df(1.f,1.f,1.f);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                        width = xml-&gt;getAttributeValueAsFloat(L<span class="stringliteral">&quot;width&quot;</span>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                        height = xml-&gt;getAttributeValueAsFloat(L<span class="stringliteral">&quot;height&quot;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                        scale = core::vector3df(width,height,1);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        <span class="keywordflow">switch</span>(<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>[0]){</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                            <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                    pos = core::vector3df(</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                    center.X + offsets[0] +scale.X/2, scale.Y/2 , center.Z );</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                    this-&gt;<a class="code" href="classCastle.html#ae500edb490227cc3b1a18d959766d506">createBlock</a>(pos,scale, core::vector3df(0,0,0), <span class="charliteral">&#39;f&#39;</span>, this-&gt;<a class="code" href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">COLOR_LIGHT</a>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                    offsets[0] += (width+<a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>);</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                            <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                    pos = core::vector3df(</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                    center.X+scale.X/2, scale.Y/2 , scale.X/2+center.Z+offsets[1]);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                    this-&gt;<a class="code" href="classCastle.html#ae500edb490227cc3b1a18d959766d506">createBlock</a>(pos,scale,core::vector3df(0,90,0), <span class="charliteral">&#39;l&#39;</span>, this-&gt;<a class="code" href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">COLOR_DARK</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                    offsets[1] += (width+<a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                            <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                    pos = core::vector3df(</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                                    center.X+scale.X/2+offsets[2], scale.Y/2,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                    center.Z+distance+<a class="code" href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a>(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>)[0]+<a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>*5</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                    );</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                    this-&gt;<a class="code" href="classCastle.html#ae500edb490227cc3b1a18d959766d506">createBlock</a>(pos,scale,core::vector3df(0,0,0), <span class="charliteral">&#39;b&#39;</span>, this-&gt;<a class="code" href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">COLOR_LIGHT</a>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                    offsets[2] += (width+<a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                            <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                    pos = core::vector3df(</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                    center.X+distance-<a class="code" href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a>(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>)[2], scale.Y/2 , scale.X/2+center.Z+offsets[3]);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                    this-&gt;<a class="code" href="classCastle.html#ae500edb490227cc3b1a18d959766d506">createBlock</a>(pos,scale,core::vector3df(0,90,0), <span class="charliteral">&#39;r&#39;</span>, this-&gt;<a class="code" href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">COLOR_DARK</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                    offsets[3] += (width+<a class="code" href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                            <span class="keywordflow">default</span>:<span class="keywordflow">break</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                        }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        <span class="keywordflow">if</span>(!this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.empty()){</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                        first = this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.begin();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                        last = this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.end();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="comment">// found the end of an element(side)</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <span class="keywordflow">case</span> irr::io::EXN_ELEMENT_END:</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="keywordflow">if</span>(currentSection.equals_ignore_case(xml-&gt;getNodeName())) {<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a> = <span class="stringliteral">&quot;&quot;</span>; currentSection = <span class="stringliteral">&quot;&quot;</span>; };</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// delete the xml reader</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        xml-&gt;drop();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="ttc" id="castle_8h_html_a6d3de557fb5397bb053a1f6668e81af6"><div class="ttname"><a href="castle_8h.html#a6d3de557fb5397bb053a1f6668e81af6">BLOCKS_OFFSET</a></div><div class="ttdeci">const f32 BLOCKS_OFFSET</div><div class="ttdef"><b>Definition:</b> castle.h:13</div></div>
<div class="ttc" id="classCastle_html_a09afa47453c0a774d52dbe521c45f683"><div class="ttname"><a href="classCastle.html#a09afa47453c0a774d52dbe521c45f683">Castle::COLOR_DARK</a></div><div class="ttdeci">video::SColor COLOR_DARK</div><div class="ttdef"><b>Definition:</b> castle.h:47</div></div>
<div class="ttc" id="classCastle_html_ae739b69849cc1a4b6ddeeab921daf8c9"><div class="ttname"><a href="classCastle.html#ae739b69849cc1a4b6ddeeab921daf8c9">Castle::COLOR_LIGHT</a></div><div class="ttdeci">video::SColor COLOR_LIGHT</div><div class="ttdef"><b>Definition:</b> castle.h:46</div></div>
<div class="ttc" id="Logger_8h_html_a2b0f1fe80d849c78ec0f9d757a4919eb"><div class="ttname"><a href="Logger_8h.html#a2b0f1fe80d849c78ec0f9d757a4919eb">log1</a></div><div class="ttdeci">#define log1(_Message)</div><div class="ttdoc">Log message of 1 level verbosity. </div><div class="ttdef"><b>Definition:</b> Logger.h:28</div></div>
<div class="ttc" id="classCastle_html_ae500edb490227cc3b1a18d959766d506"><div class="ttname"><a href="classCastle.html#ae500edb490227cc3b1a18d959766d506">Castle::createBlock</a></div><div class="ttdeci">void createBlock(core::vector3df position, core::vector3df scale, core::vector3df rotation, char side, video::SColor color=randomColor())</div><div class="ttdoc">Create the block of the castle at a specified position, rotation and scaling. </div><div class="ttdef"><b>Definition:</b> castle.cpp:140</div></div>
<div class="ttc" id="classCastle_html_ae53529d281aa26f2b268745d43f15ec0"><div class="ttname"><a href="classCastle.html#ae53529d281aa26f2b268745d43f15ec0">Castle::device</a></div><div class="ttdeci">IrrlichtDevice * device</div><div class="ttdef"><b>Definition:</b> castle.h:23</div></div>
<div class="ttc" id="bullethelper_8cpp_html_a91ebd0b64842ee5c5334eb16bcdb17bd"><div class="ttname"><a href="bullethelper_8cpp.html#a91ebd0b64842ee5c5334eb16bcdb17bd">getMeshSize</a></div><div class="ttdeci">f32 * getMeshSize(scene::ISceneNode *mesh)</div><div class="ttdoc">Get a size of a 3D Irrlicth mesh. </div><div class="ttdef"><b>Definition:</b> bullethelper.cpp:47</div></div>
<div class="ttc" id="classCastle_html_a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><div class="ttname"><a href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">Castle::nodes</a></div><div class="ttdeci">std::multimap&lt; char, scene::IMeshSceneNode * &gt; nodes</div><div class="ttdoc">Associative array for blocks. </div><div class="ttdef"><b>Definition:</b> castle.h:26</div></div>
<div class="ttc" id="classCastle_html_ab838879c446827c5a18fc52b209e4a0a"><div class="ttname"><a href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">Castle::node</a></div><div class="ttdeci">scene::IMeshSceneNode * node</div><div class="ttdoc">Last node used. </div><div class="ttdef"><b>Definition:</b> castle.h:22</div></div>
<div class="ttc" id="classCastle_html_adae594a68a78797d6b3398a0b529013a"><div class="ttname"><a href="classCastle.html#adae594a68a78797d6b3398a0b529013a">Castle::position</a></div><div class="ttdeci">core::vector3df position</div><div class="ttdef"><b>Definition:</b> castle.h:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b97e235ecc71fb307036a5a157def17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b97e235ecc71fb307036a5a157def17">&#9670;&nbsp;</a></span>calculateAbsoluteCenter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core::vector3df Castle::calculateAbsoluteCenter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get center of the castle in Irrlicht world coordinates. </p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                             {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    core::vector3df relativeCenter = this-&gt;<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    relativeCenter.X+= this-&gt;<a class="code" href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">getSideSize</a>(<span class="charliteral">&#39;f&#39;</span>).X * 0.5f;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    relativeCenter.Z+= this-&gt;<a class="code" href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">getSideSize</a>(<span class="charliteral">&#39;l&#39;</span>).X * 0.5f;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> relativeCenter;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="classCastle_html_ab371683c3d7d9d32e52b8243c4229b3c"><div class="ttname"><a href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">Castle::getSideSize</a></div><div class="ttdeci">core::vector3df getSideSize(char side)</div><div class="ttdoc">Get size from a side. </div><div class="ttdef"><b>Definition:</b> castle.cpp:156</div></div>
<div class="ttc" id="classCastle_html_adae594a68a78797d6b3398a0b529013a"><div class="ttname"><a href="classCastle.html#adae594a68a78797d6b3398a0b529013a">Castle::position</a></div><div class="ttdeci">core::vector3df position</div><div class="ttdef"><b>Definition:</b> castle.h:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a966356bb0f9505b1a4af680d037acf1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966356bb0f9505b1a4af680d037acf1f">&#9670;&nbsp;</a></span>checkTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Castle::checkTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if target is moved TARGET_OFFSET is the max offset of the target from initial position. </p>
<p class="">That means if it will be hitted, if the actual position is greater than previos+targetoffset, the player lose I didn't have so much time to build a more sophisticated system, sry! </p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                        {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    core::vector3df diff = (this-&gt;<a class="code" href="classCastle.html#a048a1563fe47ac72d13fe996e3ad45a3">target</a>-&gt;<a class="code" href="classTarget.html#a7bbee012236475db41d4dc0c64d871df">getIrrNode</a>()-&gt;getAbsolutePosition() - this-&gt;<a class="code" href="classCastle.html#a6211e058ea5dc4612bb845bd8d5c4995">initialTargetPos</a>);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    diff = core::vector3df(abs(diff.X),abs(diff.Y),abs(diff.Z));</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">return</span> (diff.X &gt;= <a class="code" href="castle_8h.html#a793e2394f5af0d46e4b39418c3c7cd0f">TARGET_OFFSET</a> || diff.Z &gt;= <a class="code" href="castle_8h.html#a793e2394f5af0d46e4b39418c3c7cd0f">TARGET_OFFSET</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="ttc" id="classCastle_html_a6211e058ea5dc4612bb845bd8d5c4995"><div class="ttname"><a href="classCastle.html#a6211e058ea5dc4612bb845bd8d5c4995">Castle::initialTargetPos</a></div><div class="ttdeci">core::vector3df initialTargetPos</div><div class="ttdoc">Initial position of the first block. </div><div class="ttdef"><b>Definition:</b> castle.h:30</div></div>
<div class="ttc" id="castle_8h_html_a793e2394f5af0d46e4b39418c3c7cd0f"><div class="ttname"><a href="castle_8h.html#a793e2394f5af0d46e4b39418c3c7cd0f">TARGET_OFFSET</a></div><div class="ttdeci">const f32 TARGET_OFFSET</div><div class="ttdef"><b>Definition:</b> castle.h:14</div></div>
<div class="ttc" id="classTarget_html_a7bbee012236475db41d4dc0c64d871df"><div class="ttname"><a href="classTarget.html#a7bbee012236475db41d4dc0c64d871df">Target::getIrrNode</a></div><div class="ttdeci">scene::IMeshSceneNode * getIrrNode()</div><div class="ttdoc">Get Irrlicht node. </div><div class="ttdef"><b>Definition:</b> target.cpp:22</div></div>
<div class="ttc" id="classCastle_html_a048a1563fe47ac72d13fe996e3ad45a3"><div class="ttname"><a href="classCastle.html#a048a1563fe47ac72d13fe996e3ad45a3">Castle::target</a></div><div class="ttdeci">Target * target</div><div class="ttdoc">Target node. </div><div class="ttdef"><b>Definition:</b> castle.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae500edb490227cc3b1a18d959766d506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae500edb490227cc3b1a18d959766d506">&#9670;&nbsp;</a></span>createBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Castle::createBlock </td>
          <td>(</td>
          <td class="paramtype">core::vector3df&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">core::vector3df&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">core::vector3df&#160;</td>
          <td class="paramname"><em>rotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>side</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">video::SColor&#160;</td>
          <td class="paramname"><em>color</em> = <code><a class="el" href="bullethelper_8h.html#a5bf4cbb9201cdd4f0c0a9cbe1b9c7524">randomColor</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the block of the castle at a specified position, rotation and scaling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>vector3df position </td></tr>
    <tr><td class="paramname">scale</td><td>vector3df extent of the block </td></tr>
    <tr><td class="paramname">rotation</td><td>vector3df rotation of the block </td></tr>
    <tr><td class="paramname">side</td><td>char the side of the block </td></tr>
    <tr><td class="paramname">color</td><td>SColor color of the block. Optional. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                                                                                                                          {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a> = this-&gt;<a class="code" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a>-&gt;addCubeSceneNode(1,0,-1);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>-&gt;setPosition(<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>-&gt;setScale(scale);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>-&gt;setMaterialFlag(video::EMF_LIGHTING,<span class="keyword">false</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      this-&gt;<a class="code" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a>-&gt;getMeshManipulator()-&gt;setVertexColors(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>-&gt;getMesh(),color);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      <a class="code" href="Logger_8h.html#aa3483e8cf13d945f9803e18fe20db92d">logVector</a>(2,<span class="stringliteral">&quot;Position castle block at&quot;</span>, <a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">        #if (DEBUG_OUTPUT_MASK &amp; 2)</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;          this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>-&gt;setDebugDataVisible((scene::E_DEBUG_SCENE_TYPE)scene::EDS_BBOX_BUFFERS);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">        #endif</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      assert(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a> != 0);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>){</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.insert(std::make_pair(side, this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>));</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        this-&gt;<a class="code" href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">physics</a>-&gt;<a class="code" href="classPhysics.html#a4877ed1c69706fc39d9da39119cf3ca7">createCastleBlock</a>(this-&gt;<a class="code" href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">node</a>,rotation,scale,<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="ttc" id="Logger_8h_html_aa3483e8cf13d945f9803e18fe20db92d"><div class="ttname"><a href="Logger_8h.html#aa3483e8cf13d945f9803e18fe20db92d">logVector</a></div><div class="ttdeci">#define logVector(level, _Message, vector)</div><div class="ttdoc">Log a core::vector3d irrlicht object. </div><div class="ttdef"><b>Definition:</b> Logger.h:42</div></div>
<div class="ttc" id="classCastle_html_a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><div class="ttname"><a href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">Castle::nodes</a></div><div class="ttdeci">std::multimap&lt; char, scene::IMeshSceneNode * &gt; nodes</div><div class="ttdoc">Associative array for blocks. </div><div class="ttdef"><b>Definition:</b> castle.h:26</div></div>
<div class="ttc" id="classCastle_html_a9bcac0701795ac6a27026d09d1c20263"><div class="ttname"><a href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">Castle::physics</a></div><div class="ttdeci">Physics * physics</div><div class="ttdef"><b>Definition:</b> castle.h:31</div></div>
<div class="ttc" id="classCastle_html_acf3f259abf1a096c3713dc7f77fef1ba"><div class="ttname"><a href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">Castle::smgr</a></div><div class="ttdeci">scene::ISceneManager * smgr</div><div class="ttdef"><b>Definition:</b> castle.h:18</div></div>
<div class="ttc" id="classPhysics_html_a4877ed1c69706fc39d9da39119cf3ca7"><div class="ttname"><a href="classPhysics.html#a4877ed1c69706fc39d9da39119cf3ca7">Physics::createCastleBlock</a></div><div class="ttdeci">btRigidBody * createCastleBlock(scene::ISceneNode *node, core::vector3df rotation, core::vector3df scale, core::vector3df position)</div><div class="ttdoc">Create a castle block. </div><div class="ttdef"><b>Definition:</b> physics.cpp:90</div></div>
<div class="ttc" id="classCastle_html_ab838879c446827c5a18fc52b209e4a0a"><div class="ttname"><a href="classCastle.html#ab838879c446827c5a18fc52b209e4a0a">Castle::node</a></div><div class="ttdeci">scene::IMeshSceneNode * node</div><div class="ttdoc">Last node used. </div><div class="ttdef"><b>Definition:</b> castle.h:22</div></div>
<div class="ttc" id="classCastle_html_adae594a68a78797d6b3398a0b529013a"><div class="ttname"><a href="classCastle.html#adae594a68a78797d6b3398a0b529013a">Castle::position</a></div><div class="ttdeci">core::vector3df position</div><div class="ttdef"><b>Definition:</b> castle.h:20</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab371683c3d7d9d32e52b8243c4229b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab371683c3d7d9d32e52b8243c4229b3c">&#9670;&nbsp;</a></span>getSideSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">core::vector3df Castle::getSideSize </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>side</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get size from a side. </p>
<p class="">There is a problem: left/right side blocks scale is defined with X and a rotation(90°). So Z is 1. Whenever you call this function you get the width(X) not the actual size based on the irrlicht axis and the overall bounding box. Height is correct. So this will return the sum of the width attribute in xml of a specified side. (f = front, b=back, l=left, r=right ) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">side</td><td>char letter of the side (f = front, b=back, l=left, r=right ) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector3df </dd></dl>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                          {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    core::vector3df size_side = core::vector3df(0,0,0) ;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    std::pair&lt;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        std::multimap&lt;char, scene::IMeshSceneNode*&gt;::iterator,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        std::multimap&lt;char, scene::IMeshSceneNode*&gt;::iterator</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        &gt; blocks;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    blocks = this-&gt;<a class="code" href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">nodes</a>.equal_range(side);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">for</span>(std::multimap&lt;char, scene::IMeshSceneNode*&gt;::iterator it = blocks.first; it != blocks.second; ++it){</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        size_side.X+= it-&gt;second-&gt;getScale().X;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        size_side.Y+= it-&gt;second-&gt;getScale().Y;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        size_side.Z+= it-&gt;second-&gt;getScale().Z;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">return</span> size_side;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div><div class="ttc" id="classCastle_html_a2d36a7d8e1ff0d87c8c2dd8daadc39c1"><div class="ttname"><a href="classCastle.html#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">Castle::nodes</a></div><div class="ttdeci">std::multimap&lt; char, scene::IMeshSceneNode * &gt; nodes</div><div class="ttdoc">Associative array for blocks. </div><div class="ttdef"><b>Definition:</b> castle.h:26</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8955077159e6c0c01cefc73415d667c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8955077159e6c0c01cefc73415d667c1">&#9670;&nbsp;</a></span>setTreasure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Castle::setTreasure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set treasure in the castle. </p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">//    core::vector3df position = this-&gt;calculateAbsoluteCenter();</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    f32 x = this-&gt;<a class="code" href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">getSideSize</a>(<span class="charliteral">&#39;f&#39;</span>).X * <a class="code" href="bullethelper_8cpp.html#aa29d8a9bfeca74dc31a54705425c3173">getRand</a>(100)/150;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    f32 z = this-&gt;<a class="code" href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">getSideSize</a>(<span class="charliteral">&#39;l&#39;</span>).X * <a class="code" href="bullethelper_8cpp.html#aa29d8a9bfeca74dc31a54705425c3173">getRand</a>(100)/100;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    core::vector3df <a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a> = core::vector3df(0.5f+this-&gt;position.X + x,0,this-&gt;position.Z + z);</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    this-&gt;<a class="code" href="classCastle.html#a048a1563fe47ac72d13fe996e3ad45a3">target</a> = <span class="keyword">new</span> <a class="code" href="classTarget.html">Target</a>(<a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>,this-&gt;<a class="code" href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">smgr</a>,this-&gt;<a class="code" href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">driver</a>,this-&gt;<a class="code" href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">physics</a>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    this-&gt;<a class="code" href="classCastle.html#a6211e058ea5dc4612bb845bd8d5c4995">initialTargetPos</a> = <a class="code" href="classCastle.html#adae594a68a78797d6b3398a0b529013a">position</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="Logger_8h.html#a2b0f1fe80d849c78ec0f9d757a4919eb">log1</a>(<span class="stringliteral">&quot;Treasure positioned&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div><div class="ttc" id="classTarget_html"><div class="ttname"><a href="classTarget.html">Target</a></div><div class="ttdoc">Target represent the treasure of the castle. </div><div class="ttdef"><b>Definition:</b> target.h:7</div></div>
<div class="ttc" id="classCastle_html_a30f567ae07b26ad4830af75771dfe40c"><div class="ttname"><a href="classCastle.html#a30f567ae07b26ad4830af75771dfe40c">Castle::driver</a></div><div class="ttdeci">video::IVideoDriver * driver</div><div class="ttdef"><b>Definition:</b> castle.h:19</div></div>
<div class="ttc" id="bullethelper_8cpp_html_aa29d8a9bfeca74dc31a54705425c3173"><div class="ttname"><a href="bullethelper_8cpp.html#aa29d8a9bfeca74dc31a54705425c3173">getRand</a></div><div class="ttdeci">f32 getRand(f32 maxValue, f32 offset)</div><div class="ttdoc">Get a random value. </div><div class="ttdef"><b>Definition:</b> bullethelper.cpp:44</div></div>
<div class="ttc" id="Logger_8h_html_a2b0f1fe80d849c78ec0f9d757a4919eb"><div class="ttname"><a href="Logger_8h.html#a2b0f1fe80d849c78ec0f9d757a4919eb">log1</a></div><div class="ttdeci">#define log1(_Message)</div><div class="ttdoc">Log message of 1 level verbosity. </div><div class="ttdef"><b>Definition:</b> Logger.h:28</div></div>
<div class="ttc" id="classCastle_html_a6211e058ea5dc4612bb845bd8d5c4995"><div class="ttname"><a href="classCastle.html#a6211e058ea5dc4612bb845bd8d5c4995">Castle::initialTargetPos</a></div><div class="ttdeci">core::vector3df initialTargetPos</div><div class="ttdoc">Initial position of the first block. </div><div class="ttdef"><b>Definition:</b> castle.h:30</div></div>
<div class="ttc" id="classCastle_html_a9bcac0701795ac6a27026d09d1c20263"><div class="ttname"><a href="classCastle.html#a9bcac0701795ac6a27026d09d1c20263">Castle::physics</a></div><div class="ttdeci">Physics * physics</div><div class="ttdef"><b>Definition:</b> castle.h:31</div></div>
<div class="ttc" id="classCastle_html_acf3f259abf1a096c3713dc7f77fef1ba"><div class="ttname"><a href="classCastle.html#acf3f259abf1a096c3713dc7f77fef1ba">Castle::smgr</a></div><div class="ttdeci">scene::ISceneManager * smgr</div><div class="ttdef"><b>Definition:</b> castle.h:18</div></div>
<div class="ttc" id="classCastle_html_ab371683c3d7d9d32e52b8243c4229b3c"><div class="ttname"><a href="classCastle.html#ab371683c3d7d9d32e52b8243c4229b3c">Castle::getSideSize</a></div><div class="ttdeci">core::vector3df getSideSize(char side)</div><div class="ttdoc">Get size from a side. </div><div class="ttdef"><b>Definition:</b> castle.cpp:156</div></div>
<div class="ttc" id="classCastle_html_adae594a68a78797d6b3398a0b529013a"><div class="ttname"><a href="classCastle.html#adae594a68a78797d6b3398a0b529013a">Castle::position</a></div><div class="ttdeci">core::vector3df position</div><div class="ttdef"><b>Definition:</b> castle.h:20</div></div>
<div class="ttc" id="classCastle_html_a048a1563fe47ac72d13fe996e3ad45a3"><div class="ttname"><a href="classCastle.html#a048a1563fe47ac72d13fe996e3ad45a3">Castle::target</a></div><div class="ttdeci">Target * target</div><div class="ttdoc">Target node. </div><div class="ttdef"><b>Definition:</b> castle.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a09afa47453c0a774d52dbe521c45f683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09afa47453c0a774d52dbe521c45f683">&#9670;&nbsp;</a></span>COLOR_DARK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video::SColor Castle::COLOR_DARK</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae739b69849cc1a4b6ddeeab921daf8c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae739b69849cc1a4b6ddeeab921daf8c9">&#9670;&nbsp;</a></span>COLOR_LIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">video::SColor Castle::COLOR_LIGHT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae53529d281aa26f2b268745d43f15ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae53529d281aa26f2b268745d43f15ec0">&#9670;&nbsp;</a></span>device</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IrrlichtDevice* Castle::device</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a30f567ae07b26ad4830af75771dfe40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30f567ae07b26ad4830af75771dfe40c">&#9670;&nbsp;</a></span>driver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">video::IVideoDriver* Castle::driver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6211e058ea5dc4612bb845bd8d5c4995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6211e058ea5dc4612bb845bd8d5c4995">&#9670;&nbsp;</a></span>initialTargetPos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core::vector3df Castle::initialTargetPos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial position of the first block. </p>

</div>
</div>
<a id="ab838879c446827c5a18fc52b209e4a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab838879c446827c5a18fc52b209e4a0a">&#9670;&nbsp;</a></span>node</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scene::IMeshSceneNode* Castle::node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last node used. </p>

</div>
</div>
<a id="a2d36a7d8e1ff0d87c8c2dd8daadc39c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d36a7d8e1ff0d87c8c2dd8daadc39c1">&#9670;&nbsp;</a></span>nodes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::multimap&lt;char, scene::IMeshSceneNode*&gt; Castle::nodes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associative array for blocks. </p>
<p class="">This memorize of each side f, l, r, b, the nodes of the blocks </p>

</div>
</div>
<a id="a9bcac0701795ac6a27026d09d1c20263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bcac0701795ac6a27026d09d1c20263">&#9670;&nbsp;</a></span>physics</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPhysics.html">Physics</a>* Castle::physics</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adae594a68a78797d6b3398a0b529013a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae594a68a78797d6b3398a0b529013a">&#9670;&nbsp;</a></span>position</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core::vector3df Castle::position</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acf3f259abf1a096c3713dc7f77fef1ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf3f259abf1a096c3713dc7f77fef1ba">&#9670;&nbsp;</a></span>smgr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scene::ISceneManager* Castle::smgr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a048a1563fe47ac72d13fe996e3ad45a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048a1563fe47ac72d13fe996e3ad45a3">&#9670;&nbsp;</a></span>target</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTarget.html">Target</a>* Castle::target</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTarget.html" title="Target represent the treasure of the castle. ">Target</a> node. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/enviroment/<a class="el" href="castle_8h_source.html">castle.h</a></li>
<li>src/enviroment/<a class="el" href="castle_8cpp.html">castle.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
